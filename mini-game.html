<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Click the Star</title>
  <style>
    :root{
      --bg:#0d0d0d;
      --panel:#1a1a1a;
      --text:#e0e0e0;
      --accent:#00ff99;
      --btn:#111;
      --btn-muted:#222;
      --danger:#ff5555;
      --warn:#ffcc00;
      --burst:#ff3333;
      --endless:#7d5cff; /* cosmic purple */
      --gold:#ffd700;
    }
    *{box-sizing:border-box}
    body{
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin:0;padding:20px;
      display:flex;gap:20px;
      transition: background 0.3s ease;
    }
    .panel{
      background: var(--panel);
      padding:20px;border-radius:12px;flex:1;
      box-shadow:0 0 12px rgba(0,0,0,0.5);
    }
    h2{color:#fff;text-shadow:0 0 6px var(--accent);margin-top:0}
    .center{flex:2;text-align:center}
    #starWrapper{position:relative;display:inline-block}
    #starBtn{
      font-size:60px;cursor:pointer;margin:20px 0;
      transition: transform 0.1s, color 0.2s, text-shadow 0.2s;
      color: var(--burst);
      user-select:none;
    }
    #starBtn:active{ transform: scale(0.9); }
    /* static shooting-star cluster (Endless IV) ‚Äî no animations */
    .cluster{
      position:absolute; left:50%; top:50%; pointer-events:none;
      transform: translate(-50%,-50%);
      font-size:16px; line-height:1;
      display:none; /* shown at Endless IV+ */
      color:#ddd;
      text-shadow:0 0 3px #999;
    }
    .cluster span{margin:0 4px}
    .stats{margin:10px 0}
    .titleBadge{
      margin-top:4px;font-size:14px;color:var(--accent);
      text-shadow:0 0 6px var(--accent);
      min-height:20px;
    }
    .btn{
      background: var(--btn); margin:5px; padding:8px 15px;
      border-radius:6px; cursor:pointer; border:none; font-weight:bold;
      color:#eee;
    }
    .saveBtn{background:var(--btn-muted); color:var(--accent)}
    .resetBtn{background:var(--btn-muted); color:var(--danger)}
    .prestigeBtn{background:var(--btn-muted); color:var(--warn)}
    .endlessBtn{background:var(--endless); color:white; border:2px solid #b9a8ff}
    .upgrade{
      background:#111;margin:10px 0;padding:10px;border-radius:8px;
      display:flex;justify-content:space-between;align-items:center;
    }
    .upgrade button{
      background: var(--burst); color:white; border:none;
      padding:5px 10px; border-radius:5px; cursor:pointer;
    }
    .upgrade button:hover{ background:#ff5555 }
    .achievement{ background:#111; margin:6px 0; padding:8px; border-radius:6px }
    .locked{ opacity:0.4 }
    .unlocked{ color: var(--accent); text-shadow:0 0 6px var(--accent) }
    .notes{ margin-top:20px; font-size:12px; color:#aaa; text-align:left }

    /* Endless cosmetics (no animations) */
    /* Endless I ‚Äî Golden Star */
    .goldStar #starBtn { color: var(--gold); text-shadow: 0 0 6px #b38f00; }
    /* Endless II ‚Äî Starfield BG (static dotted backdrop) */
    .starfield {
      background:
       radial-gradient(2px 2px at 20% 30%, #fff 98%, transparent 2%) 0 0/120px 120px,
       radial-gradient(1px 1px at 70% 80%, #cfcfcf 98%, transparent 2%) 0 0/80px 80px,
       radial-gradient(1px 1px at 40% 60%, #a8a8a8 98%, transparent 2%) 0 0/100px 100px,
       var(--bg);
    }
    /* Endless III ‚Äî Rainbow Star (static gradient fill) */
    .rainbowStar #starBtn{
      background: linear-gradient(90deg, #ff0040, #ff8c00, #ffe600, #33dd33, #33aaff, #8a33ff);
      -webkit-background-clip: text; background-clip: text;
      color: transparent; text-shadow:none;
    }
    /* Endless IV ‚Äî static star cluster around star */
    .hasCluster .cluster{ display:block }
    /* Endless V ‚Äî Black Hole Star (dark star + glow) */
    .blackHole #starBtn{ color:#000; text-shadow: 0 0 10px #5a00ff, 0 0 18px #1a003d; }
    /* Endless VI ‚Äî Galaxy Swirl BG (static gradients) */
    .galaxy {
      background:
        radial-gradient(800px 500px at 20% 30%, rgba(120,0,255,0.12), transparent 60%),
        radial-gradient(600px 400px at 80% 70%, rgba(0,180,255,0.10), transparent 60%),
        var(--bg);
    }
    /* Endless VII ‚Äî Eternal Rainbow Star (static) */
    .eternal #starBtn{
      background: linear-gradient(90deg, #ff006a, #ff9400, #f6ff00, #00ffa6, #00a2ff, #b400ff);
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }
   nav { position: sticky; top: 0; z-index: 10; background: var(--surface); display: flex; justify-content: center; gap: 1.5rem; padding: 0.75rem 1rem; border-bottom: 1px solid var(--card); }
nav a { background: none; border: none; color: var(--subtle); font-size: 1rem; cursor: pointer; text-decoration: none; transition: color 0.2s ease; }
nav a.active, nav a:hover { color: var(--accent); }

  </style>
</head>
<body>

  <!-- Navigation -->
<nav>
  <a href="index.html">Home</a>
  <a href="about.html">Team</a>
  <a class="active" href="mini-game.html">Mini-Game</a>
  <a href="socials.html">Socials</a>
 
</nav>

  <!-- Center Panel -->
  <div class="panel center" id="centerPanel">
    <h2>Click the Star</h2>

    <div class="stats">
      <p><b>Count:</b> <span id="score">0.0</span></p>
      <div class="titleBadge" id="titleBadge"></div>
      <p>
        Click Value: <span id="clickValue">1</span> |
        Idle: <span id="idleValue">0</span>/sec |
        Prestige Multiplier: <span id="prestigeMult">1x</span>
      </p>
    </div>

    <div id="starWrapper">
      <div id="starBtn">‚òÖ</div>
      <div class="cluster" id="cluster"><span>‚ú¶</span><span>‚úß</span><span>‚ú¶</span></div>
    </div>

    <div>
      <button class="btn saveBtn" onclick="saveGame()">üíæ Save</button>
      <button class="btn resetBtn" onclick="hardReset()">üóë Hard Reset</button>
      <button class="btn prestigeBtn" id="prestigeBtn" style="display:none;" onclick="prestige()">üåü Prestige</button>
      <button class="btn endlessBtn" id="endlessBtn" style="display:none;" onclick="endlessRestart()">‚ôæÔ∏è Endless Restart</button>
    </div>

    <div class="notes">
      <p>‚Ä¢ Achievements are trophies (no stat boost).</p>
      <p>‚Ä¢ Upgrades scale in price as you buy more.</p>
      <p>‚Ä¢ Your progress auto-saves often (you can also press Save).</p>
      <p>‚Ä¢ Prestige resets progress but doubles your idle/sec permanently.</p>
      <p>‚Ä¢ Reach <b>Infinity</b> to unlock a hidden cosmetic via <b>Endless Restart</b>.</p>
    </div>
  </div>

  <!-- Upgrades Panel -->
  <div class="panel">
    <h2>Upgrades</h2>
    <div id="upgrades"></div>
  </div>

  <!-- Achievements Panel -->
  <div class="panel">
    <h2>Achievements</h2>
    <div id="achievements"></div>
  </div>

<script>
  // ---------- Game State ----------
  let score = 0;
  let clickValue = 1;
  let cps = 0;
  let prestigeMult = 1;

  // Endless (cosmetic-only, sequential unlocks 0..7)
  let endlessStage = 0; // 0 = none yet, 1..7 = unlocked cosmetic level
  const ENDLESS_MAX = 7;

  // Base upgrades factory (used at start and on prestige reset)
  function baseUpgrades(){
    return [
      { id:"click1", name:"+0.5 / click", cost:10,   value:0.5, type:"click",  owned:0, desc:"Practice makes perfect." },
      { id:"click2", name:"+1 / click",   cost:50,   value:1,   type:"click",  owned:0, desc:"Heavier fingertips." },
      { id:"cps1",   name:"+1 / sec",     cost:100,  value:1,   type:"cps",    owned:0, desc:"Little helpers." },
      { id:"cps5",   name:"+5 / sec",     cost:500,  value:5,   type:"cps",    owned:0, desc:"Bigger crew." },
      // Burst: permanent x2 to click value, stackable. Price scales x2.5 per buy.
      { id:"burst",  name:"Burst x2",     cost:1000, value:2,   type:"burst",  owned:0, desc:"Permanently doubles click value (stackable)." }
    ];
  }
  let upgrades = baseUpgrades();

  // Achievements (with your two new ones)
  let achievements = [
    { id:"first",    name:"First Click",     condition: () => score >= 1 },
    { id:"ten",      name:"Ten Up",          condition: () => score >= 10 },
    { id:"hundred",  name:"Triple Digits",   condition: () => score >= 100 },
    { id:"thousand", name:"1,000!",          condition: () => score >= 1000 },
    { id:"auto",     name:"Automation",      condition: () => cps >= 10 },
    { id:"banked",   name:"5,000 Banked",    condition: () => score >= 5000 },
    { id:"ones",     name:"A Lot of Ones",   condition: () => score >= 111111 },
    { id:"money",    name:"Money Money",     condition: () => score >= 500000 }
  ];

  // ---------- Load Save ----------
  (function load(){
    const raw = localStorage.getItem("starSave");
    if (!raw) return;
    try{
      const save = JSON.parse(raw);
      if (typeof save.score === "number") score = save.score;
      if (typeof save.clickValue === "number") clickValue = save.clickValue;
      if (typeof save.cps === "number") cps = save.cps;
      if (Array.isArray(save.upgrades)) upgrades = save.upgrades;
      if (typeof save.prestigeMult === "number") prestigeMult = save.prestigeMult;
      if (typeof save.endlessStage === "number") endlessStage = save.endlessStage;
    } catch(e){ console.warn("Failed to load save:", e); }
  })();

  // ---------- UI Rendering ----------
  function renderUpgrades(){
    const container = document.getElementById("upgrades");
    container.innerHTML = "";
    upgrades.forEach(u=>{
      const div = document.createElement("div");
      div.className = "upgrade";
      div.innerHTML = `
        <div>
          <b>${u.name}</b> (Owned: ${u.owned})<br>
          <small>${u.desc}</small>
        </div>
        <div>${formatNumber(u.cost)} <button>Buy</button></div>
      `;
      div.querySelector("button").onclick = ()=> buyUpgrade(u.id);
      container.appendChild(div);
    });
  }

  function renderAchievements(){
    const container = document.getElementById("achievements");
    container.innerHTML = "";
    achievements.forEach(a=>{
      const unlocked = a.condition();
      const div = document.createElement("div");
      div.className = "achievement " + (unlocked ? "unlocked":"locked");
      div.textContent = a.name;
      container.appendChild(div);
    });
  }

  function updateDisplay(){
    const scoreEl = document.getElementById("score");
    const titleBadge = document.getElementById("titleBadge");
    const prestigeBtn = document.getElementById("prestigeBtn");
    const endlessBtn = document.getElementById("endlessBtn");

    // Score display
    if (!isFinite(score)){
      scoreEl.textContent = "‚ôæ Endless ‚Äì The End";
      endlessBtn.style.display = "inline-block"; // reveal Endless restart
    } else {
      scoreEl.textContent = formatNumber(score, true); // one decimal
      // Prestige button appears at 100,000
      prestigeBtn.style.display = score >= 100000 ? "inline-block" : "none";
      // Endless button hidden unless Infinity reached
      endlessBtn.style.display = "none";
    }

    document.getElementById("clickValue").textContent = tidy(clickValue);
    document.getElementById("idleValue").textContent = tidy(cps * prestigeMult);
    document.getElementById("prestigeMult").textContent = prestigeMult + "x";

    // Title shows only at final Endless
    titleBadge.textContent = (endlessStage >= 7) ? "Eternal Clicker" : "";

    renderUpgrades();
    renderAchievements();
    applyCosmetics();
  }

  // ---------- Cosmetics ----------
  function applyCosmetics(){
    const body = document.body;
    const center = document.getElementById("centerPanel");
    const cluster = document.getElementById("cluster");

    // Reset classes
    body.classList.remove("starfield","galaxy");
    center.classList.remove("goldStar","rainbowStar","blackHole","hasCluster","eternal");

    // Apply based on endlessStage (cosmetic-only, static)
    switch(endlessStage){
      case 1: center.classList.add("goldStar"); break; // Golden Star
      case 2: body.classList.add("starfield"); break;  // Starfield BG
      case 3: center.classList.add("rainbowStar"); break; // Rainbow Star
      case 4: center.classList.add("hasCluster"); cluster.style.display="block"; break; // static cluster
      case 5: center.classList.add("blackHole"); break; // Black Hole Star
      case 6: body.classList.add("galaxy"); break; // Galaxy Swirl BG
      case 7: center.classList.add("eternal"); document.getElementById("titleBadge").textContent = "Eternal Clicker"; break; // Final
      default: cluster.style.display="none";
    }
    if (endlessStage !== 4) cluster.style.display="none";
  }

  // ---------- Formatting ----------
  function formatNumber(num, oneDecimal=false){
    if (num === Infinity) return "‚ôæ";
    if (num >= 1e12) return (num/1e12).toFixed(2)+"T";
    if (num >= 1e9)  return (num/1e9 ).toFixed(2)+"B";
    if (num >= 1e6)  return (num/1e6 ).toFixed(2)+"M";
    if (num >= 1e3)  return (num/1e3 ).toFixed(2)+"K";
    return oneDecimal ? num.toFixed(1) : String(num);
  }
  function tidy(n){
    return (Math.abs(n)%1===0) ? n.toString() : n.toFixed(1);
  }

  // ---------- Interactions ----------
  document.getElementById("starBtn").addEventListener("click", ()=>{
    if (!isFinite(score)) return; // no further gain once Endless is reached
    score += clickValue;
    updateDisplay(); saveGame();
  });

  function buyUpgrade(id){
    const u = upgrades.find(x=> x.id === id);
    if (!u) return;
    if (!isFinite(score)) return;
    if (score >= u.cost){
      score -= u.cost;
      u.owned++;
      if (u.type === "click")  clickValue += u.value;
      if (u.type === "cps")    cps += u.value;
      if (u.type === "burst")  clickValue *= u.value; // permanent & stackable

      // Price scaling: Burst x2.5, others x1.5
      if (u.id === "burst"){
        u.cost = Math.floor(u.cost * 2.5); // 1000 ‚Üí 2500 ‚Üí 6250...
      } else {
        u.cost = Math.floor(u.cost * 1.5);
      }
      updateDisplay(); saveGame();
    }
  }

  // Idle tick
  setInterval(()=>{
    if (!isFinite(score)) return; // stop at Endless
    score += cps * prestigeMult;
    updateDisplay(); saveGame();
  }, 1000);

  // ---------- Save / Reset / Prestige / Endless ----------
  function saveGame(){
    localStorage.setItem("starSave", JSON.stringify({
      score, clickValue, cps, upgrades, prestigeMult, endlessStage
    }));
  }

  function hardReset(){
    if (confirm("Hard Reset? This wipes current run progress. (Endless cosmetics stay.)")){
      score = 0; clickValue = 1; cps = 0; prestigeMult = 1;
      upgrades = baseUpgrades();
      // Note: Endless cosmetics are permanent; we keep endlessStage.
      saveGame(); updateDisplay();
    }
  }

  function prestige(){
    if (score >= 100000){
      if (confirm("Prestige? Resets current run but doubles idle/sec permanently.")){
        score = 0; clickValue = 1; cps = 0;
        upgrades = baseUpgrades(); // fully reset prices to base
        prestigeMult *= 2;
        saveGame(); updateDisplay();
      }
    }
  }

  // Appears only at Infinity (set in updateDisplay)
  function endlessRestart(){
    if (!isFinite(score)) {
      const msg = "This is the FINAL reset path.\nEverything will be lost.\nYou will unlock a hidden cosmetic.\nProceed?";
      if (confirm(msg)){
        // award next cosmetic (cap at ENDLESS_MAX)
        if (endlessStage < ENDLESS_MAX) endlessStage++;
        // full wipe like a new install (but keep cosmetics)
        score = 0; clickValue = 1; cps = 0; prestigeMult = 1;
        upgrades = baseUpgrades();
        // back to normal play
        saveGame(); updateDisplay();
        alert("Endless reward unlocked.");
      }
    }
  }

  // Initial paint
  updateDisplay();
</script>

</body>
</html>
