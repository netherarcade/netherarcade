<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Click the Star</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: white;
      margin: 0;
      padding: 0;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      padding: 20px;
    }
    .panel {
      background: #1a1a1a;
      border-radius: 10px;
      padding: 20px;
      flex: 1;
      min-height: 400px;
    }
    .panel h2 {
      color: limegreen;
      margin-top: 0;
      text-align: center;
    }
    #star {
      display: block;
      font-size: 60px;
      cursor: pointer;
      margin: 20px auto;
      color: red;
    }
    #info {
      text-align: center;
      margin-top: 10px;
    }
    .game-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    button {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      opacity: 0.9;
    }
    .save-btn { background: #2d6a4f; color: white; }
    .reset-btn { background: #d90429; color: white; }
    .prestige-btn { background: #ffb703; color: black; }

    .upgrade {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #222;
      padding: 10px;
      margin: 5px 0;
      border-radius: 6px;
    }
    .upgrade button {
      background: red;
      color: white;
    }
    .achievements-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .achievements-list li {
      background: #222;
      margin: 4px 0;
      padding: 6px;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Main Game Panel -->
    <div class="panel">
      <h2>Click the Star</h2>
      <p id="count">Count: 0</p>
      <p id="stats">Click Value: 1 | Idle: 0/sec | Prestige Multiplier: 1x</p>

      <div id="star">‚òÖ</div>

      <div class="game-buttons">
        <button class="save-btn" onclick="saveGame()">üíæ Save</button>
        <button class="reset-btn" onclick="hardReset()">‚ùå Hard Reset</button>
        <button class="prestige-btn" onclick="prestige()">üåü Prestige</button>
      </div>

      <div id="info">
        <p>‚Ä¢ Achievements are trophies (no stat boost).</p>
        <p>‚Ä¢ Upgrades scale in price as you buy more.</p>
        <p>‚Ä¢ Your progress auto-saves often.</p>
        <p>‚Ä¢ Prestige resets progress but doubles idle/sec permanently.</p>
        <p>‚Ä¢ Reach Infinity to unlock Endless cosmetic rewards.</p>
      </div>
    </div>

    <!-- Upgrades + Achievements Panel -->
    <div class="panel">
      <h2>Upgrades</h2>
      <div id="upgrades"></div>

      <h2>Achievements</h2>
      <ul class="achievements-list" id="achievements"></ul>
    </div>
  </div>

  <script>
    let count = 0;
    let clickValue = 1;
    let idleValue = 0;
    let prestigeMultiplier = 1;
    let upgrades = {
      click05: { name: "+0.5 / click", baseCost: 30, cost: 30, amount: 0, effect: () => { clickValue += 0.5; }, scale: 1.5 },
      click1: { name: "+1 / click", baseCost: 150, cost: 150, amount: 0, effect: () => { clickValue += 1; }, scale: 1.5 },
      idle1: { name: "+1 / sec", baseCost: 100, cost: 100, amount: 0, effect: () => { idleValue += 1; }, scale: 1.5 },
      idle5: { name: "+5 / sec", baseCost: 500, cost: 500, amount: 0, effect: () => { idleValue += 5; }, scale: 1.5 },
      burst: { name: "Burst x2", baseCost: 1000, cost: 1000, amount: 0, effect: () => { clickValue *= 2; }, scale: 2 },
    };

    let achievements = [
      { name: "First Click", unlocked: false, condition: () => count >= 1 },
      { name: "Ten Up", unlocked: false, condition: () => count >= 10 },
      { name: "Triple Digits", unlocked: false, condition: () => count >= 100 },
      { name: "1,000!", unlocked: false, condition: () => count >= 1000 },
      { name: "Automation", unlocked: false, condition: () => idleValue > 0 },
      { name: "5,000 Banked", unlocked: false, condition: () => count >= 5000 },
      { name: "A Lot of Ones", unlocked: false, condition: () => count === 1111 },
      { name: "Money Money", unlocked: false, condition: () => count >= 1000000 },
    ];

    const star = document.getElementById("star");
    const countDisplay = document.getElementById("count");
    const statsDisplay = document.getElementById("stats");
    const upgradesDiv = document.getElementById("upgrades");
    const achievementsList = document.getElementById("achievements");

    function updateDisplay() {
      countDisplay.textContent = `Count: ${formatNumber(count)}`;
      statsDisplay.textContent = `Click Value: ${clickValue} | Idle: ${idleValue}/sec | Prestige Multiplier: ${prestigeMultiplier}x`;
      renderUpgrades();
      renderAchievements();
    }

    function clickStar() {
      count += clickValue * prestigeMultiplier;
      updateDisplay();
    }

    function buyUpgrade(key) {
      let up = upgrades[key];
      if (count >= up.cost) {
        count -= up.cost;
        up.effect();
        up.amount++;
        up.cost = Math.floor(up.baseCost * Math.pow(up.scale, up.amount));
        updateDisplay();
      }
    }

    function renderUpgrades() {
      upgradesDiv.innerHTML = "";
      for (let key in upgrades) {
        let up = upgrades[key];
        let div = document.createElement("div");
        div.classList.add("upgrade");
        div.innerHTML = `<span>${up.name} (Owned: ${up.amount}) - ${formatNumber(up.cost)}</span>
                         <button onclick="buyUpgrade('${key}')">Buy</button>`;
        upgradesDiv.appendChild(div);
      }
    }

    function renderAchievements() {
      achievementsList.innerHTML = "";
      achievements.forEach(a => {
        if (a.condition() && !a.unlocked) {
          a.unlocked = true;
        }
        let li = document.createElement("li");
        li.textContent = a.name;
        li.style.color = a.unlocked ? "lime" : "gray";
        achievementsList.appendChild(li);
      });
    }

    function prestige() {
      if (count >= 1000000) {
        count = 0;
        clickValue = 1;
        idleValue = 0;
        prestigeMultiplier *= 2;
        for (let key in upgrades) {
          upgrades[key].amount = 0;
          upgrades[key].cost = upgrades[key].baseCost;
        }
        updateDisplay();
      } else {
        alert("You need at least 1M to Prestige!");
      }
    }

    function saveGame() {
      let saveData = { count, clickValue, idleValue, prestigeMultiplier, upgrades, achievements };
      localStorage.setItem("starClickerSave", JSON.stringify(saveData));
    }

    function loadGame() {
      let data = JSON.parse(localStorage.getItem("starClickerSave"));
      if (data) {
        count = data.count;
        clickValue = data.clickValue;
        idleValue = data.idleValue;
        prestigeMultiplier = data.prestigeMultiplier;
        upgrades = data.upgrades;
        achievements = data.achievements;
        updateDisplay();
      }
    }

    function hardReset() {
      if (confirm("Are you sure you want to reset everything?")) {
        localStorage.removeItem("starClickerSave");
        location.reload();
      }
    }

    function formatNumber(num) {
      if (num >= 1e12) return (num / 1e12).toFixed(2) + "T";
      if (num >= 1e9) return (num / 1e9).toFixed(2) + "B";
      if (num >= 1e6) return (num / 1e6).toFixed(2) + "M";
      if (num >= 1e3) return (num / 1e3).toFixed(2) + "K";
      return Math.floor(num);
    }

    // Idle gain
    setInterval(() => {
      count += idleValue * prestigeMultiplier;
      updateDisplay();
    }, 1000);

    // Auto save
    setInterval(saveGame, 10000);

    star.addEventListener("click", clickStar);
    loadGame();
    updateDisplay();
  </script>
</body>
</html>
